#include <stdio.h>
#include "leapyear.h"
#include "unity.h"

// setup & teardown (empty here, but needed by Unity)
void setUp(void) {}
void tearDown(void) {}

void test_leap(void) {
    TEST_ASSERT_EQUAL(1, is_leapyear(2000));   // divisible by 400
    TEST_ASSERT_EQUAL(1, is_leapyear(2024));   // divisible by 4, not 100
}

void test_nonleap(void) {
    TEST_ASSERT_EQUAL(0, is_leapyear(1900));   // divisible by 100, not 400
    TEST_ASSERT_EQUAL(0, is_leapyear(1999));   // not divisible by 4
}

int main(void) {
    UNITY_BEGIN();
    RUN_TEST(test_leap);
    RUN_TEST(test_nonleap);
    return UNITY_END();
}
#include "leapyear.h"

int is_leapyear(int yy) {
    if ((yy % 400 == 0) || (yy % 4 == 0 && yy % 100 != 0)) {
        return 1;
    } else {
        return 0;
    }
}
#ifndef __LEAPYEAR__H
#define __LEAPYEAR__H

int is_leapyear(int yy);

#endif
CC = gcc
CFLAGS = -Wall

SRC = main.c leapyear.c unity.c
OBJ = $(SRC:.c=.o)

all: $(OBJ)
	$(CC) $(CFLAGS) $^ -o leapyear.exe

run: all
	./leapyear.exe

clean:
	rm -f *.o *.exe


